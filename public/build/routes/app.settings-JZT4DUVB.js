import{a as st,c as S,d as H,f as A,g as N,h as C,j as D,k as V,l as G,o as J,q as F,r as K,t as rt}from"/build/_shared/chunk-KEBXNG35.js";import{a as nt,d as I,h as M,l as z}from"/build/_shared/chunk-PVHEWPT3.js";import{b as ot,c as E}from"/build/_shared/chunk-Q3IECNXJ.js";var X=ot((dt,O)=>{O.exports={}});var it=E(st(),1);var k=E(nt(),1),ct=E(rt(),1),lt=E(X(),1);function Y(){let{settings:L}=z(),Q=M(),x=I(),[B,Z]=(0,k.useState)(L.ticketTag),[R,_]=(0,k.useState)(L.autoEmailEnabled),[w,U]=(0,k.useState)(L.brandColor),[P,$]=(0,k.useState)(L.brandLogo||""),[tt,W]=(0,k.useState)(!1),et=x.state==="submitting";(0,k.useEffect)(()=>{x.state==="idle"&&x.formData&&(W(!0),setTimeout(()=>W(!1),3e3))},[x.state,x.formData]);let at=(0,k.useCallback)(()=>{let T=new FormData;T.append("ticketTag",B),T.append("autoEmailEnabled",R.toString()),T.append("brandColor",w),T.append("brandLogo",P),Q(T,{method:"post"})},[B,R,w,P,Q]);return<K title="Settings"subtitle="Configure your ticket system"backAction={{content:"Dashboard",url:"/app"}}><F><F.Section><C gap="500">{tt&&<G tone="success"onDismiss={()=>W(!1)}>Settings saved successfully</G>}<A><C gap="400"><J><D label="Ticket Tag"value={B}onChange={Z}helpText="Products with this tag will be treated as tickets (e.g., 'ticket', 'entrada')"autoComplete="off"/><V label="Automatically send tickets via email"checked={R}onChange={_}helpText="When enabled, customers will receive their QR codes by email after purchase"/><C gap="200"><label style={{fontSize:"14px",fontWeight:500,color:"var(--p-color-text, #202223)"}}>Brand Color</label><N gap="200"blockAlign="center"><input type="color"value={w}onChange={T=>U(T.target.value)}style={{width:"60px",height:"36px",border:"1px solid var(--p-color-border, #c9cccf)",borderRadius:"var(--p-border-radius-200, 8px)",cursor:"pointer"}}/><D label=""labelHidden value={w}onChange={U}autoComplete="off"placeholder="#5C6AC4"/></N><S as="p"variant="bodySm"tone="subdued">This color will be used in ticket emails</S></C><D label="Brand Logo URL"value={P}onChange={$}placeholder="https://example.com/logo.png"helpText="URL to your logo image for ticket emails (optional)"autoComplete="off"/></J><H variant="primary"onClick={at}loading={et}size="large">Save Settings</H></C></A><A><C gap="400"><S as="h2"variant="headingMd"fontWeight="semibold">Setup Instructions</S><C gap="300"><S as="p"variant="bodySm"><strong>Step 1:</strong> Tag your event/ticket products with "{B}" in Shopify</S><S as="p"variant="bodySm"><strong>Step 2:</strong> When customers purchase these products, QR codes will be generated automatically</S><S as="p"variant="bodySm"><strong>Step 3:</strong> Customers receive QR codes via email (if enabled)</S><S as="p"variant="bodySm"><strong>Step 4:</strong> Use the Validiam mobile app to scan QR codes at your event</S></C></C></A></C></F.Section><F.Section variant="oneThird"><A><C gap="400"><S as="h2"variant="headingMd"fontWeight="semibold">Email Configuration</S><C gap="200"><S as="p"variant="bodySm"tone="subdued">Email settings are configured through environment variables.</S><S as="p"variant="bodySm"tone="subdued">Contact your administrator to update SMTP settings if needed.</S></C></C></A></F.Section></F></K>}export{Y as default};
